// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id                  String    @id @default(cuid())
  name                String    @default("")
  email               String    @unique @default("")
  password            String?
  isAdmin             Boolean   @default(false)
  createdAt           DateTime? @default(now())
  from_Dict_createdBy Dict[]    @relation("Dict_createdBy")
}

model Topik {
  id              String                @id @default(cuid())
  no              Int
  year            Int
  level           TopikLevelType
  questionNumber  Int
  questionType    TopikQuestionTypeType
  score           Int                   @default(0)
  audioURL        String                @default("")
  questionStem    String                @default("")
  questionContent String                @default("")
  options         Json?                 @default("[{\"content\":\"\",\"isCorrect\":true},{\"content\":\"\"},{\"content\":\"\"},{\"content\":\"\"}]")
  explanation     String                @default("")
}

model Dict {
  id                 String     @id @default(cuid())
  name               String     @default("")
  public             Boolean    @default(false)
  createdAt          DateTime?  @default(now())
  createdBy          User?      @relation("Dict_createdBy", fields: [createdById], references: [id])
  createdById        String?    @map("createdBy")
  list               DictItem[] @relation("Dict_list")
  from_DictItem_dict DictItem[] @relation("DictItem_dict")

  @@index([createdById])
}

model DictItem {
  id             String @id @default(cuid())
  name           String @default("")
  trans          Json?  @default("{\"en\":[\"\"],\"zh-CN\":[\"\"],\"zh-TW\":[\"\"],\"ja\":[\"\"]}")
  example        String @default("")
  exTrans        Json?  @default("{\"en\":[\"\"],\"zh-CN\":[\"\"],\"zh-TW\":[\"\"],\"ja\":[\"\"]}")
  dict           Dict[] @relation("DictItem_dict")
  from_Dict_list Dict[] @relation("Dict_list")
}

enum TopikLevelType {
  TOPIK_I
  TOPIK_II
}

enum TopikQuestionTypeType {
  LISTENING
  READING
  WRITING
}
